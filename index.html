<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FAFE EMPIRE¬Æ AI Quick ToolKit + Games Hub</title>
  <meta name="description" content="FAFE EMPIRE¬Æ AI Quick ToolKit ‚Äî fast, free tools for prompts & visuals ‚Äî now with a playable Games Hub." />
  <meta name="theme-color" content="#6d28d9" />

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="FAFE EMPIRE¬Æ AI Quick ToolKit + Games Hub" />
  <meta property="og:description" content="Tools for prompts & visuals, plus browser games you can run inline or open full-screen." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="" id="og-url" />
  <meta property="og:image" content="" id="og-image" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root{
      --bg:#0b0712;        /* deep purple/black */
      --bg2:#120a1f;       /* layer */
      --grad1:#6d28d9;     /* purple */
      --grad2:#a855f7;     /* violet */
      --grad3:#22d3ee;     /* cyan accent */
      --text:#eef2ff;      /* near-white */
      --muted:#b9b5c9;     /* soft gray */
      --card:#140e22;      /* card bg */
      --stroke:#261a3e;    /* borders */
      --glow:0 0 30px rgba(168,85,247,.25), 0 0 60px rgba(34,211,238,.15);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 10% -10%, rgba(109,40,217,.25), transparent 60%),
        radial-gradient(1000px 600px at 110% 10%, rgba(34,211,238,.18), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
    }
    header{ position:relative; padding:48px 20px 24px; text-align:center; }
    .brand{ display:inline-flex; align-items:center; gap:12px; padding:10px 14px; border:1px solid var(--stroke); border-radius:999px; background:rgba(255,255,255,.03); }
    .brand .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,var(--grad2),var(--grad3));box-shadow:var(--glow)}
    h1{margin:16px 0 10px; font-size: clamp(28px, 4vw, 48px); letter-spacing:.3px;}
    .subtitle{max-width:880px;margin:0 auto;color:var(--muted);line-height:1.55}

    .actions{margin-top:22px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    .btn{
      --p:linear-gradient(135deg,var(--grad1),var(--grad2));
      display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:14px; border:1px solid var(--stroke); background:rgba(255,255,255,.04); color:var(--text); text-decoration:none; font-weight:700; letter-spacing:.2px; box-shadow:var(--glow); transition:transform .12s ease, box-shadow .2s ease, background .2s;
    }
    .btn.primary{ background:var(--p); }
    .btn:hover{ transform: translateY(-1px); box-shadow:0 8px 30px rgba(168,85,247,.25), 0 0 0 1px rgba(168,85,247,.25);}    

    main{ padding: 24px 20px 80px; }
    .grid{ max-width:1180px; margin:0 auto; display:grid; gap:18px; grid-template-columns: repeat(12, 1fr); }
    .card{ grid-column: span 12; background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02)); border:1px solid var(--stroke); border-radius:18px; overflow:hidden; display:grid; grid-template-columns: 1fr 320px; min-height: 190px; position:relative; }
    .card::after{content:""; position:absolute; inset:0; pointer-events:none; box-shadow: inset 0 0 0 1px rgba(255,255,255,.02), var(--glow);}    
    .card .content{ padding:18px 18px 18px 20px; }
    .card h2{ margin:6px 0 6px; font-size: clamp(20px, 2.4vw, 28px); }
    .meta{ color:var(--muted); font-size:14px; }
    .cta-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .thumb{ background: radial-gradient(120px 90px at 70% 20%, rgba(168,85,247,.3), transparent 60%), radial-gradient(90px 60px at 30% 70%, rgba(34,211,238,.25), transparent 60%), linear-gradient(180deg, #0e0820, #100b22); border-left:1px solid var(--stroke); display:flex; align-items:center; justify-content:center; }
    .thumb .badge{ border:1px solid var(--stroke); background:rgba(255,255,255,.06); padding:8px 10px; border-radius:10px; font-size:12px; color:#dbeafe; }

    /* Games Hub */
    .games{ grid-column: span 12; display:grid; grid-template-columns: 1fr 320px; background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02)); border:1px solid var(--stroke); border-radius:18px; overflow:hidden; position:relative; }
    .games .right{ border-left:1px solid var(--stroke); padding:16px; display:flex; flex-direction:column; gap:10px; background: radial-gradient(180px 120px at 30% 10%, rgba(168,85,247,.16), transparent 60%); }
    .games .left{ padding:18px 18px 18px 20px; }
    .select{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin:12px 0; }
    select, .input{ background:rgba(255,255,255,.05); color:var(--text); border:1px solid var(--stroke); border-radius:12px; padding:10px 12px; font-weight:600; }
    .tagrow{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
    .tag{ font-size:12px; padding:6px 8px; border-radius:999px; border:1px solid var(--stroke); color:#d1c7ff; }

    /* Inline game modal */
    .modal{ position: fixed; inset: 0; display:none; background: rgba(0,0,0,.75); z-index: 30; }
    .modal.open{ display:grid; place-items:center; }
    .sheet{ width:min(96vw, 1100px); height:min(90vh, 760px); background: #0c0a17; border:1px solid var(--stroke); border-radius:18px; overflow:hidden; box-shadow: var(--glow); display:grid; grid-template-rows: 48px 1fr; }
    .sheet .bar{ display:flex; align-items:center; gap:8px; padding:8px 10px; border-bottom:1px solid var(--stroke); background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02)); }
    .sheet .bar .spacer{ flex:1 }
    .sheet iframe{ width:100%; height:100%; border:0; background:#000; }
    .iconbtn{ cursor:pointer; border:1px solid var(--stroke); background:rgba(255,255,255,.06); color:var(--text); padding:8px 10px; border-radius:10px; font-weight:700; }

    /* Responsive */
    @media (max-width: 980px){ .card, .games{ grid-template-columns: 1fr; } .thumb{ min-height:120px; order:-1; } .games .right{ order:-1; } }

    footer{ max-width:1180px; margin:40px auto 0; padding:16px 12px; color:var(--muted); border-top:1px solid var(--stroke); text-align:center; font-size:13px; }
    .tiny{font-size:12px; opacity:.9}
    .pill{ display:inline-flex; align-items:center; gap:8px; padding:4px 10px; border-radius:999px; border:1px solid var(--stroke); color:#d1c7ff; }
    .sep{opacity:.4; margin:0 6px}
    
    /* Status indicators */
    .status{ padding:4px 8px; border-radius:6px; font-size:11px; font-weight:600; margin-left:8px; }
    .status.loading{ background:#ffa500; color:#000; }
    .status.error{ background:#ff4444; color:#fff; }
    .status.ready{ background:#4ade80; color:#000; }
  </style>
</head>
<body>
  <header>
    <div class="brand" aria-label="FAFE EMPIRE brand">
      <span class="dot" aria-hidden="true"></span>
      <strong>FAFE EMPIRE¬Æ</strong>
    </div>
    <h1>AI Quick ToolKit + Games Hub</h1>
    <p class="subtitle">A fast, purple-forward home for useful tools <em>and</em> playable browser games. Launch games inline, open them full page, or pair them with your AI tools.</p>
    <div class="actions">
      <a class="btn primary" id="shareX" href="#" target="_blank" rel="noopener">‚ö° Post this on X</a>
      <a class="btn" href="#tools">üß∞ Browse Tools</a>
      <a class="btn" href="#games">üïπÔ∏è Games Hub</a>
      <span class="pill">v1.2<span class="sep">‚Ä¢</span><span id="buildDate"></span></span>
    </div>
  </header>

  <main id="tools">
    <div class="grid">

      <!-- Tool 1: JSON Prompt Builder -->
      <section class="card" aria-labelledby="t1-title">
        <div class="content">
          <div class="meta">Tool ‚Ä¢ Builder</div>
          <h2 id="t1-title">JSON Prompt Builder</h2>
          <p class="subtitle">Point‚Äëand‚Äëclick fields for video/image prompts. Exports clean JSON and a text‚Äëonly prompt. Beginner ‚Üí Pro toggles, camera controls, and negatives included.</p>
          <div class="cta-row">
            <a class="btn primary" href="json_tool.html">Open json_tool.html</a>
            <a class="btn" id="shareT1" href="#" target="_blank" rel="noopener">Share on X</a>
          </div>
        </div>
        <div class="thumb"><span class="badge">JSON ‚Ä¢ VEO ‚Ä¢ Grok ‚Ä¢ Runway</span></div>
      </section>

      <!-- Tool 2: Nebular Spiral Symphony Controller -->
      <section class="card" aria-labelledby="t2-title">
        <div class="content">
          <div class="meta">Tool ‚Ä¢ Interactive Visual</div>
          <h2 id="t2-title">Nebular Spiral Symphony ‚Äî Shareable Controller</h2>
          <p class="subtitle">Interactive p5.js spiral star‚Äëfield with ambient sound. Tweak particles, color, and audio; share your settings via URL automatically.</p>
          <div class="cta-row">
            <a class="btn primary" href="nebular_spiral_symphony_sharable_parameter_tool_p_5.html">Launch nebular_spiral_symphony‚Ä¶</a>
            <a class="btn" id="shareT2" href="#" target="_blank" rel="noopener">Share on X</a>
          </div>
        </div>
        <div class="thumb"><span class="badge">p5.js ‚Ä¢ Audio ‚Ä¢ Share Link</span></div>
      </section>

      <!-- Games Hub -->
      <section class="games" id="games" aria-labelledby="g-title">
        <div class="left">
          <div class="meta">Games ‚Ä¢ HTML5 Canvas</div>
          <h2 id="g-title">Games Hub ‚Äî Play in Browser</h2>
          <p class="subtitle">Pick a game below. You can <b>Quick‚ÄëPlay</b> inline (opens a modal with the game embedded), or <b>Open Full Page</b>. All games are self-contained HTML5 files.</p>

          <div class="select">
            <label for="gameSel" class="sr-only" style="position:absolute;left:-9999px">Choose game</label>
            <select id="gameSel" aria-label="Choose a game"></select>
            <a class="btn primary" id="quickPlay" href="#">‚ñ∂ Quick‚ÄëPlay</a>
            <a class="btn" id="openTab" href="#" target="_blank" rel="noopener">‚ßâ Open Full Page</a>
          </div>

          <div id="gDesc" class="subtitle" style="margin-top:6px"></div>
          <div id="gTags" class="tagrow"></div>

          <div class="cta-row" style="margin-top:14px">
            <a class="btn" href="json_tool.html">ü§ñ Pair with JSON Prompt Builder</a>
            <a class="btn" href="nebular_spiral_symphony_sharable_parameter_tool_p_5.html">üéõÔ∏è Open Visual Controller</a>
          </div>
        </div>
        <div class="right">
          <div class="meta">Available Games</div>
          <div id="gList" style="display:grid; gap:10px"></div>
          <div class="subtitle" style="font-size:13px; margin-top:6px">
            <strong>Status Legend:</strong> 
            <span class="status ready">Ready</span> = Working
            <span class="status error">Error</span> = File missing
            <span class="status loading">Check</span> = Checking...
          </div>
        </div>
      </section>

    </div>

    <footer>
      <div>¬© <span id="year"></span> FAFE EMPIRE¬Æ. All rights reserved. Toolkit shipped for GitHub Pages.</div>
      <div class="tiny">Save this as <code>index.html</code>. Games should be separate <code>.html</code> files in the same directory.</div>
    </footer>
  </main>

  <!-- Inline modal for Quick‚ÄëPlay -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="mTitle">
    <div class="sheet">
      <div class="bar">
        <strong id="mTitle">Quick‚ÄëPlay</strong>
        <span class="spacer"></span>
        <button id="mOpen" class="iconbtn">‚ßâ Open Tab</button>
        <button id="mClose" class="iconbtn">‚úï Close</button>
      </div>
      <iframe id="mFrame" title="Embedded Game"></iframe>
    </div>
  </div>

  <script>
    // --- Build date & year
    (function(){
      const now = new Date();
      document.getElementById('year').textContent = now.getFullYear();
      document.getElementById('buildDate').textContent = now.toISOString().slice(0,10);
      document.getElementById('og-url').setAttribute('content', location.href);
    })();

    // --- Share helpers (X.com)
    function makeTweetURL(text, url){ const q = new URLSearchParams({ text, url }).toString(); return `https://x.com/intent/tweet?${q}`; }
    const shareX = document.getElementById('shareX');
    shareX.addEventListener('click', (e)=>{ e.preventDefault(); window.open(makeTweetURL('FAFE EMPIRE¬Æ ‚Äî Tools + Games Hub', location.href), '_blank'); });
    const shareT1 = document.getElementById('shareT1');
    if(shareT1) shareT1.addEventListener('click', (e)=>{ e.preventDefault(); window.open(makeTweetURL('JSON Prompt Builder', location.href + '#tools'), '_blank'); });
    const shareT2 = document.getElementById('shareT2');
    if(shareT2) shareT2.addEventListener('click', (e)=>{ e.preventDefault(); window.open(makeTweetURL('Nebular Spiral Symphony Controller', location.href + '#tools'), '_blank'); });

    // --- Games registry with file validation
    const GAMES = [
      { 
        id:'orbit', 
        title:'Orbit Guard', 
        file:'orbit_guard_html_5_canvas_game_git_hub_pages_ready.html', 
        desc:'Rotate a shield to block incoming shards and protect the core. Pure timing and angle reads.', 
        tags:['Arcade','Timing','Shield','Canvas'],
        status: 'loading'
      },
      { 
        id:'defender', 
        title:'Space Defender+', 
        file:'space_defender_plus.html', 
        desc:'Retro shooter: waves of enemies, sine patterns, power shots. Keyboard + mobile touch zones.', 
        tags:['Shooter','Waves','Retro','Canvas'],
        status: 'loading'
      },
      { 
        id:'breaker', 
        title:'Neon Breaker', 
        file:'neon_breaker_canvas.html', 
        desc:'Breakout‚Äëstyle with powerups (widen, multiball, slow, score). Mouse or A/D movement.', 
        tags:['Breakout','Powerups','Arcade','Canvas'],
        status: 'loading'
      },
    ];

    // --- File validation function
    async function checkGameFile(game) {
      try {
        const response = await fetch(game.file, { method: 'HEAD' });
        game.status = response.ok ? 'ready' : 'error';
        game.statusText = response.ok ? 'Ready' : `${response.status} Error`;
      } catch (error) {
        game.status = 'error';
        game.statusText = 'File not found';
        console.warn(`Game file not found: ${game.file}`, error);
      }
    }

    // --- Validate all game files
    async function validateGames() {
      const checks = GAMES.map(game => checkGameFile(game));
      await Promise.all(checks);
      renderList(); // Re-render with status updates
    }

    // --- Populate selector and list
    const sel = document.getElementById('gameSel');
    const list = document.getElementById('gList');
    const gDesc = document.getElementById('gDesc');
    const gTags = document.getElementById('gTags');

    function renderOptions(){
      sel.innerHTML = GAMES.map((g,i)=>`<option value="${i}">${g.title}${g.status === 'error' ? ' (Missing)' : ''}</option>`).join('');
    }

    function renderList(){
      list.innerHTML = GAMES.map((g,i)=>{
        const statusClass = g.status === 'ready' ? 'ready' : g.status === 'error' ? 'error' : 'loading';
        const statusText = g.statusText || (g.status === 'loading' ? 'Checking...' : g.status);
        
        return `<div style="border:1px solid var(--stroke); border-radius:12px; padding:10px; background:rgba(255,255,255,.03); display:grid; gap:8px">
          <div style="font-weight:800; display:flex; align-items:center;">
            ${g.title}
            <span class="status ${statusClass}">${statusText}</span>
          </div>
          <div style="color:var(--muted); font-size:14px">${g.desc}</div>
          <div>${g.tags.map(t=>`<span class='tag'>${t}</span>`).join(' ')}</div>
          <div style="display:flex; gap:8px; flex-wrap:wrap">
            <a class="btn ${g.status === 'ready' ? 'primary' : ''}" href="#" data-i="${i}" data-action="quick" ${g.status !== 'ready' ? 'style="opacity:0.5;pointer-events:none"' : ''}>‚ñ∂ Quick‚ÄëPlay</a>
            <a class="btn" href="${g.file}" target="_blank" rel="noopener" ${g.status !== 'ready' ? 'style="opacity:0.5;pointer-events:none"' : ''}>‚ßâ Open Full Page</a>
          </div>
        </div>`;
      }).join('');
    }

    function updateDetails(index){
      const g = GAMES[index]; if(!g) return;
      gDesc.textContent = g.desc;
      gTags.innerHTML = g.tags.map(t=>`<span class='tag'>${t}</span>`).join('');
      document.getElementById('openTab').href = g.file;
      
      // Update quick-play button state
      const quickPlayBtn = document.getElementById('quickPlay');
      if (g.status === 'ready') {
        quickPlayBtn.style.opacity = '1';
        quickPlayBtn.style.pointerEvents = 'auto';
        quickPlayBtn.className = 'btn primary';
      } else {
        quickPlayBtn.style.opacity = '0.5';
        quickPlayBtn.style.pointerEvents = 'none';
        quickPlayBtn.className = 'btn';
      }
    }

    renderOptions(); renderList(); updateDetails(0);
    sel.addEventListener('change', ()=> updateDetails(+sel.value));

    // Start file validation
    validateGames();

    // --- Quick‚ÄëPlay modal
    const modal = document.getElementById('modal');
    const mFrame = document.getElementById('mFrame');
    const mTitle = document.getElementById('mTitle');
    const mOpen = document.getElementById('mOpen');
    const mClose = document.getElementById('mClose');

    function openModalFor(index){
      const g = GAMES[index]; 
      if(!g || g.status !== 'ready') {
        alert(`Game "${g?.title || 'Unknown'}" is not available. Please check if the file exists.`);
        return;
      }
      mTitle.textContent = `Quick‚ÄëPlay ‚Äî ${g.title}`;
      mFrame.src = g.file;
      mOpen.onclick = ()=> window.open(g.file, '_blank');
      modal.classList.add('open');
    }
    
    function closeModal(){ 
      mFrame.src = 'about:blank'; 
      modal.classList.remove('open'); 
    }

    document.getElementById('quickPlay').addEventListener('click', (e)=>{ 
      e.preventDefault(); 
      const selectedIndex = +sel.value;
      openModalFor(selectedIndex); 
    });
    
    mClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });

    // Delegate clicks from the right‚Äëhand list
    list.addEventListener('click', (e)=>{
      const a = e.target.closest('a.btn'); if(!a) return;
      const i = +a.getAttribute('data-i');
      const action = a.getAttribute('data-action');
      if(action==='quick'){ 
        e.preventDefault(); 
        openModalFor(i); 
      }
    });

    // --- Console helper for adding games later
    window.addGame = function(gameObj) {
      // Example: addGame({id:'newgame', title:'My Game', file:'my_game.html', desc:'Description', tags:['Tag1','Tag2']})
      gameObj.status = 'loading';
      GAMES.push(gameObj);
      checkGameFile(gameObj).then(() => {
        renderOptions(); 
        renderList(); 
        updateDetails(0);
      });
    };

    console.log('FAFE EMPIRE Games Hub loaded. Use addGame({...}) to add new games.');
  </script>
</body>
</html>
